<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
	    <meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" />
	    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>betalist: create &amp; grow a user testing list to get actionable insights from real customers.</title>
		<link rel="stylesheet" href="home.css" />
		<link rel="shortcut icon" href="logo--bug.png" type="image/x-icon" />
		<link rel="icon" href="logo--bug.png" type="image/x-icon" />
	</head>
	<body>
		<div id="bl-mkt-intro-container">
			<header id="bl-mkt-header">
				<img src="logo.png" id="bl-mkt-logo" alt="betalist logo" />
				<!-- <a href="###" id="bl-mkt-login">Log In</a> -->
			</header>
			<div id="bl-mkt-main">
				<h1 id="bl-mkt-main-header">
					Why do user testing <span class="bl-mkt-br"></span> without YOUR customers?	
				</h1>
				<p id="bl-mkt-main-sub">
					Create &amp; grow your user testing list to get <span class="bl-mkt-br"></span> actionable insights from real customers.
				</p>
				<div id="bl-mkt-form-wrapper">
					<form action="//jefff.us5.list-manage.com/subscribe/post?u=04a55f946b24b93da6e1e6fbe&amp;id=b8001196ab" method="post" id="bl-mkt-form">
						<fieldset>
							<label for="bl-mkt-email" id="bl-mkt-email-title">
								Enter your business email for early access
							</label>
							<label for="bl-mkt-email" id="bl-mkt-email-lbl">
								<input type="email" id="bl-mkt-email" name="bl-mkt-email" />
							</label>
							<button id="bl-mkt-submit">
								<!-- Create my list -->
								Get early access
							</button>
						</fieldset>
					</form>
					<!-- <div id="bl-mkt-more-wrapper">
						<a href="###" id="bl-mkt-more">What&rsquo;s this about?</a>
					</div> -->
				</div>
			</div>
		</div>
		<div id="bl-mkt-more-wrapper">
			<h2>
				How does betalist work exactly?
				<span>
					Sign up and start collecting customers.
				</span>
			</h2>
			<ul>
				<li>
					<img src="icons/create.png" />
					Create your betalist</li>
				<li>
					<img src="icons/embed.png" />
					Embed on your site</li>
				<li>
					<img src="icons/test.png" />
					Test with your customers</li>
				<li>
					<img src="icons/happy.png" />
					Build better products</li>
			</ul>
			<hr />
			<h2>
				What does it look to my customer?
				<span>
					Click each logo to see an example on that site.
				</span>
			</h2>
			<div id="bl-mkt-examples">
				<a href="../amazon.gif">
					<img src="logos/amazon.png" />
				</a>
				<a href="../yelp.gif">
					<img src="logos/yelp.png" />
				</a>
				<a href="../etsy.gif">
					<img src="logos/etsy.png" />
				</a>
				<a href="../stack.gif">
					<img src="logos/stack.png" />
				</a>
			</div>
			<p id="bl-mkt-demo">
				<a href="javascript:showModal();">See it in action</a> on this site.
			</p>
			<div id="bl-mkt-more-cta-wrapper">
				<p>
					Want to start getting actionable insights &amp; feedback from your customers?
				</p>
				<a href="#bl-mkt-main-sub" id="bl-mkt-submit-btn">
					Sign up for early access
				</a>
			</div>
		</div>
		<script>
			document.addEventListener("touchstart", function() {},false);
			// document.getElementById('bl-mkt-submit').onclick = function(e) {
			// 	e.preventDefault();
			// 	// this.classList.add('is-submitted');
			// 	// this.setAttribute('disabled', 'true');
			// 	// goForth();
			// }
			// document.getElementById('bl-mkt-form').onsubmit = function(e) {
			// 	e.preventDefault();
			// 	// goForth();
			// }
			// function goForth() {
			// 	setTimeout(function() {
			// 		window.location.href = 'start.html' + (document.getElementById('bl-mkt-email').value !== '' ? '?email=' + document.getElementById('bl-mkt-email').value : '');
			// 	}, 1000);
			// }
			var emailHasError = false,
				emailHasContent = false;

			document.getElementById('bl-mkt-submit-btn').onclick = function(e) {
				// e.preventDefault();
				// var target = document.getElementById('bl-mkt-form').getBoundingClientRect().top;
				// alert(target);
				// window.scroll(target, 0);
				setTimeout(function() {
					document.getElementById('bl-mkt-email').focus();
				}, 0);
			}
			document.getElementById('bl-mkt-email').onkeyup = function() {
				if(!emailHasContent) return;
				if(!validateEmail(this.value)) {
					handleErrorUI(this, false);
					return;
				}
				handleErrorUI(this, true);
			}
			document.getElementById('bl-mkt-email').onblur = function() {
				if(this.value !== '') {
					emailHasContent = true;
				} else {
					return;
				}
				if(!validateEmail(this.value)) {
					handleErrorUI(this, false);
					return;
				}
				handleErrorUI(this, true);
			}
			document.getElementById('bl-mkt-submit').onclick = function(e) {
				e.preventDefault();
				if(!validateEmail(document.getElementById('bl-mkt-email').value)) {
					handleErrorUI(document.getElementById('bl-mkt-email'), false);
					return;
				}
				handleErrorUI(document.getElementById('bl-mkt-email'), true);
				this.classList.add('is-submitted');
				this.setAttribute('disabled', 'true');
				goForth();
			}
			document.getElementById('bl-mkt-form').onsubmit = function(e) {
				e.preventDefault();
				if(!validateEmail(document.getElementById('bl-mkt-email').value)) {
					handleErrorUI(document.getElementById('bl-mkt-email'), false);
					return;
				}
				handleErrorUI(document.getElementById('bl-mkt-email'), true);
				goForth();
			}
			function handleErrorUI(element, isValid) {
				if(isValid) {
					var error = element.parentNode.querySelector('.bl-mkt-micro--error');
					if(!error) return;
					emailHasError = false;
					element.classList.remove('bl-mkt-input--error');
					error.parentNode.removeChild(error);
				} else {
					if(emailHasError) return;
					emailHasError = true;
					var error = document.createElement('small');
					error.setAttribute('class', 'bl-mkt-micro bl-mkt-micro--error');
					error.innerText = 'Please enter a valid business email';
					element.classList.add('bl-mkt-input--error');
					// element.focus();
					element.parentNode.appendChild(error); // TODO, make more robust
				}
			}
			function validateEmail(email) { 
				var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
				return re.test(email);
			}
			function goForth() {
				// setTimeout(function() {
				// 	window.location.href = 'step3.html' + (document.getElementById('bl-mkt-email').value !== '' ? '?email=' + document.getElementById('bl-mkt-email').value : '');
				// }, 1000);
			}
		</script>
		<script async src="../appDemo.js"></script>
	</body>
</html>